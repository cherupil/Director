(()=>{var A=Object.defineProperty;var O=(i,e,t)=>e in i?A(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var w=(i,e,t)=>(O(i,typeof e!="symbol"?e+"":e,t),t);var u=class{static get(e){switch(e){case"linear":return this._easeLinear;case"easeOut":return this._easeOutSine;case"easeOutExpo":return this._easeOutExpo;case"easeOutSpring":return this._easeOutSpring;case"easeOutBack":return this._easeOutBack;default:return this._easeLinear}}static _easeLinear(e){return e}static _easeOutSine(e){return Math.sin(e*(Math.PI/2))}static _easeOutExpo(e){return 1-Math.pow(2,-10*e)}static _easeOutSpring(e){let t=1,a=.3,s=a/(Math.PI*2)*(Math.asin(1/t)||0);return t*Math.pow(2,-10*e)*Math.sin((e-s)*(Math.PI*2)/a)+1}static _easeOutBack(e){let t=1.70158;return(e=e-1)*e*((t+1)*e+t)+1}};var l=class{constructor(e,t,a){this.target=e,this.properties=t,this.propertyDeltas=[],this.setProperties(a)}setProperties(e){switch(e){case"to":for(let t in this.properties)this.propertyDeltas[t]={start:this.target[t],delta:this.properties[t]-this.target[t]};break;case"from":for(let t in this.properties)this.propertyDeltas[t]={start:this.properties[t],delta:this.target[t]-this.properties[t]};break;default:break}}update(e){for(let t in this.properties)this.target[t]=this.propertyDeltas[t].start+e*this.propertyDeltas[t].delta}};var f=class{constructor(){this.timeScale=1e3,this.startTime=0,this.elapsedTime=0,this.progress=0,this.previousMomentDuration=0,this.totalDuration=0,this.moments=[]}play(){this._animate()}to(e,t,a,s=null){let o=this._setTargets(e),n=this._setTimings(o,a,s),r=[];o.forEach(c=>{r.push(new l(c,t,"to"))}),this._add(r,n,a)}from(e,t,a,s=null){let o=this._setTargets(e),n=this._setTimings(o,a,s),r=[];o.forEach(c=>{r.push(new l(c,t,"from"))}),this._add(r,n,a)}_add(e,t,a){this.moments.length===0?this.moments.push({animations:e,timings:t,options:a}):this.moments.push({animations:e,timings:t,options:a})}_animate(){let e=t=>{this.elapsedTime=t-this.startTime,this.progress=Math.min(this.elapsedTime/this.totalDuration,1),this.moments.forEach(a=>{let s=this.elapsedTime-a.timings.delay;Math.min(s/a.timings.totalDuration,1)<1?(a.options.onUpdate?.(),a.animations.forEach((n,r)=>{let c=Math.min((s-a.timings.stagger*r)/a.timings.duration,1);if(c>0){let E=a.timings.easing(c);n.update(E)}})):a.options.onComplete?.()}),this.progress<1&&requestAnimationFrame(e)};this.startTime=performance.now(),requestAnimationFrame(e)}_setTargets(e){let t=null;return Array.isArray(e)?t=e:t=[e],t}_setTimings(e,t,a){let s={};return s.duration=t.duration*this.timeScale,a!==null?s.offset=a*this.timeScale:s.offset=this.previousMomentDuration,s.delay=t.delay?t.delay*this.timeScale+s.offset:s.offset,s.stagger=t.stagger?t.stagger*this.timeScale:0,s.totalDuration=s.duration+(e.length-1)*s.stagger,s.easing=u.get(t.ease),this.previousMomentDuration=s.totalDuration+s.delay,this.totalDuration=Math.max(this.previousMomentDuration,this.totalDuration),s}};var g=class{static to(e,t,a){let s=this._setTargets(e),o=this._setTimings(s,a),n=[];s.forEach(r=>{n.push(new l(r,t,"to"))}),this._animate(n,o,a)}static from(e,t,a){let s=this._setTargets(e),o=this._setTimings(s,a),n=[];s.forEach(r=>{n.push(new l(r,t,"from"))}),this._animate(n,o,a)}static _animate(e,t,a){function s(n){let r=n-o-t.delay,c=Math.min(r/t.totalDuration,1);e.forEach((E,D)=>{let y=Math.min((r-t.stagger*D)/t.duration,1);if(y>0){let M=t.easing(y);E.update(M)}}),c<1?(a.onUpdate?.(),requestAnimationFrame(s)):a.onComplete?.()}a.onStart?.();let o=performance.now();requestAnimationFrame(s)}static _setTargets(e){let t=null;return Array.isArray(e)?t=e:t=[e],t}static _setTimings(e,t){let a=1e3,s={};return s.duration=t.duration*a,s.delay=t.delay?t.delay*a:0,s.stagger=t.stagger?t.stagger*a:0,s.totalDuration=s.duration+(e.length-1)*s.stagger,s.easing=u.get(t.ease),s}};w(g,"scene",f);var h=document.getElementById("canvas"),T=devicePixelRatio;h.width=h.clientWidth*T;h.height=h.clientHeight*T;var S=document.getElementById("webgl"),H=S.getContext("webgl",{powerPreference:"high-performance"}),p=h.getContext("2d"),d=[],F=["#FFE7E5","#FFBDAF","#E65F5C","#E8FFEE","#36EFB1","#32D789","#E8F4FF","#6EE4FF","#41C0EC","#72FFF9","#67E6E0","#387D7A"];for(var _=0;_<3;_++)d.push({fill:F[Math.floor(Math.random()*F.length)],x:h.width/3,y:h.height/4*(_+1),scale:32});var P=()=>{d.forEach(i=>{p.fillStyle=i.fill,p.beginPath(),p.arc(i.x,i.y,i.scale,0,Math.PI*2),p.fill()})},x=()=>{p.clearRect(0,0,h.width,h.height),P(),requestAnimationFrame(x)};requestAnimationFrame(x);var m;setTimeout(()=>{m=new g.scene,m.to(d[0],{x:h.width/3*2,scale:0},{duration:2,ease:"easeOutExpo"}),m.from(d[1],{x:h.width/3*2,scale:0},{duration:4,ease:"easeOutExpo"},.25),m.to(d[2],{x:h.width/3*2,scale:0},{duration:2,ease:"easeOutExpo"}),m.play()},500);window.addEventListener("click",i=>{m.pause()});})();
